<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>Wikipedia å‡ºå…¸ã‚¿ã‚°è‡ªå‹•ç”Ÿæˆãƒ„ãƒ¼ãƒ«</title>
<style>
  body { font-family: sans-serif; margin: 20px; }
  label { display: block; margin-top: 8px; }
  textarea { width: 100%; height: 150px; margin-top: 10px; }
  select, input { margin-top: 5px; }
  button { margin-top: 15px; padding: 8px 16px; }
</style>
</head>
<body>

<h2>Wikipedia å‡ºå…¸ã‚¿ã‚°è‡ªå‹•ç”Ÿæˆãƒ„ãƒ¼ãƒ«</h2>

<label>å‡ºå…¸ã‚¿ã‚¤ãƒ—ã‚’é¸æŠ:
  <select id="citeType" onchange="switchForm()">
    <option value="book">ğŸ“š æ›¸ç±ï¼ˆCite bookï¼‰</option>
    <option value="journal">ğŸ“– å­¦è¡“è«–æ–‡ï¼ˆCite journalï¼‰</option>
    <option value="news">ğŸ“° ãƒ‹ãƒ¥ãƒ¼ã‚¹è¨˜äº‹ï¼ˆCite newsï¼‰</option>
    <option value="web">ğŸŒ ã‚¦ã‚§ãƒ–ãƒšãƒ¼ã‚¸ï¼ˆCite webï¼‰</option>
  </select>
</label>

<div id="formFields"></div>

<button type="button" onclick="generateRef()">å‡ºå…¸ã‚¿ã‚°ã‚’ç”Ÿæˆ</button>
<button type="button" onclick="copyToClipboard()">ã‚³ãƒ”ãƒ¼</button>

<h3>ç”Ÿæˆã•ã‚ŒãŸã‚¿ã‚°:</h3>
<textarea id="output" readonly></textarea>

<script>
function switchForm() {
  const type = document.getElementById("citeType").value;
  let formHtml = "";

  if (type === "web") {
    formHtml = `
      <label>ã‚¿ã‚¤ãƒˆãƒ«: <input type="text" id="title"></label>
      <label>URL: <input type="text" id="url"></label>
      <label>è‘—è€…: <input type="text" id="author"></label>
      <label>ã‚µã‚¤ãƒˆå/å‡ºç‰ˆç¤¾: <input type="text" id="publisher"></label>
      <label>å…¬é–‹æ—¥: <input type="text" id="date"></label>
      <label>å‚ç…§æ—¥: <input type="text" id="accessdate"></label>
      <label>è¨€èª: <input type="text" id="language" placeholder="ä¾‹: ja"></label>`;
  } else if (type === "book") {
    formHtml = `
      <label>æ›¸å: <input type="text" id="title"></label>
      <label>è‘—è€…: <input type="text" id="author"></label>
      <label>å‡ºç‰ˆç¤¾: <input type="text" id="publisher"></label>
      <label>å‡ºç‰ˆå¹´: <input type="text" id="date"></label>
      <label>ISBN: <input type="text" id="isbn"></label>
      <label>è¨€èª: <input type="text" id="language" placeholder="ä¾‹: ja"></label>`;
  } else if (type === "news") {
    formHtml = `
      <label>è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«: <input type="text" id="title"></label>
      <label>æ–°èãƒ»ãƒ‹ãƒ¥ãƒ¼ã‚¹åª’ä½“å: <input type="text" id="newspaper"></label>
      <label>è‘—è€…: <input type="text" id="author"></label>
      <label>æ—¥ä»˜: <input type="text" id="date"></label>
      <label>URL: <input type="text" id="url"></label>
      <label>å‚ç…§æ—¥: <input type="text" id="accessdate"></label>
      <label>è¨€èª: <input type="text" id="language" placeholder="ä¾‹: ja"></label>`;
  } else if (type === "journal") {
    formHtml = `
      <label>è«–æ–‡ã‚¿ã‚¤ãƒˆãƒ«: <input type="text" id="title"></label>
      <label>è‘—è€…: <input type="text" id="author"></label>
      <label>é›‘èªŒå: <input type="text" id="journal"></label>
      <label>å·»: <input type="text" id="volume"></label>
      <label>å·: <input type="text" id="issue"></label>
      <label>ãƒšãƒ¼ã‚¸ç¯„å›²: <input type="text" id="pages"></label>
      <label>å‡ºç‰ˆå¹´: <input type="text" id="date"></label>
      <label>DOI: <input type="text" id="doi"></label>
      <label>URL: <input type="text" id="url"></label>
      <label>å‚ç…§æ—¥: <input type="text" id="accessdate"></label>
      <label>è¨€èª: <input type="text" id="language" placeholder="ä¾‹: ja"></label>`;
  }
  document.getElementById("formFields").innerHTML = formHtml;
}

function generateRef() {
  const type = document.getElementById("citeType").value;
  let ref = "<ref>{{";

  if (type === "web") {
    ref += "Cite web\n";
    ref += addField("author","author");
    ref += addField("title","title");
    ref += addField("url","url");
    ref += addField("publisher","publisher");
    ref += addField("date","date");
    ref += addField("accessdate","access-date");
    ref += addField("language","language");
  } else if (type === "book") {
    ref += "Cite book\n";
    ref += addField("author","author");
    ref += addField("title","title");
    ref += addField("publisher","publisher");
    ref += addField("date","date");
    ref += addField("isbn","ISBN");
    ref += addField("language","language");
  } else if (type === "news") {
    ref += "Cite news\n";
    ref += addField("author","author");
    ref += addField("title","title");
    ref += addField("newspaper","newspaper");
    ref += addField("date","date");
    ref += addField("url","url");
    ref += addField("accessdate","access-date");
    ref += addField("language","language");
  } else if (type === "journal") {
    ref += "Cite journal\n";
    ref += addField("author","author");
    ref += addField("title","title");
    ref += addField("journal","journal");
    ref += addField("volume","volume");
    ref += addField("issue","issue");
    ref += addField("pages","pages");
    ref += addField("date","date");
    ref += addField("doi","doi");
    ref += addField("url","url");
    ref += addField("accessdate","access-date");
    ref += addField("language","language");
  }

  ref += "}}</ref>";
  document.getElementById("output").value = ref;
}

function addField(id, alt) {
  const el = document.getElementById(id);
  const val = el ? el.value : "";
  return (val && val.trim() !== "") ? (" | " + alt + " = " + val + "\n") : "";
}

function copyToClipboard() {
  const output = document.getElementById("output");
  output.select();
  document.execCommand("copy");
  alert("å‡ºå…¸ã‚¿ã‚°ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼");
}

// åˆæœŸè¡¨ç¤ºï¼ˆæ›¸ç±ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆé¸æŠï¼‰
document.getElementById('citeType').selectedIndex = 0;
switchForm();
</script>

</body>
</html>
